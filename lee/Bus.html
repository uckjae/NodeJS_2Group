<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!---->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!---->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <!---->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <!---->

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <!---->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!---->
    <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->




    <style>

        .empty {
            width: 5em;
        }

        .btn-warnig.dropdown-toggle{
            background-color: pink;
            color: pink;
        }
    </style>



    <title>Insert title here</title>
</head>

<body>
    <!--  <div class="contianer-fluid">-->
    <div class="row">

        <div class="col-sm-3">
            <h3>좌석선택</h3>
            <table id="seatTable">
                <tr id="A">
                    <td id="A1" >
                        <button class="btn btn-warning btn-md active" style="background-color: pink;">A1</button>
                    </td>
                    <td id="A2">
                        <button class="btn btn-warning btn-md active">A2</button>
                    </td>
                    <td class="empty"></td>
                    <td id="A3">
                        <button class="btn btn-warning btn-md active">A3</button>
                    </td>
                </tr>
                <tr id="B">
                    <td id="B1">
                        <button class="btn btn-warning btn-md active">B1</button>
                    </td>
                    <td id="B2">
                        <button class="btn btn-warning btn-md active">B2</button>
                    </td>
                    <td class="empty"></td>
                    <td id="B3">
                        <button class="btn btn-warning btn-md active">B3</button>
                    </td>
                </tr>
                <tr id="C">
                    <td id="C1">
                        <button class="btn btn-warning btn-md active">C1</button>
                    </td>
                    <td id="C2">
                        <button class="btn btn-warning btn-md active">C2</button>
                    </td>
                    <td class="empty"></td>
                    <td id="C3">
                        <button class="btn btn-warning btn-md active">C3</button>
                    </td>
                </tr>
                <tr id="D">
                    <td id="D1">
                        <button class="btn btn-warning btn-md active">D1</button>
                    </td>
                    <td id="D2">
                        <button class="btn btn-warning btn-md active">D2</button>
                    </td>
                    <td class="empty"></td>
                    <td id="D3">
                        <button class="btn btn-warning btn-md active">D3</button>
                    </td>
                </tr>
                <tr id="E">
                    <td id="E1">
                        <button class="btn btn-warning btn-md active">E1</button>
                    </td>
                    <td id="E2">
                        <button class="btn btn-warning btn-md active">E2</button>
                    </td>
                    <td class="empty"></td>
                    <td id="E3">
                        <button class="btn btn-warning btn-md active">E3</button>
                    </td>
                </tr>
                <tr id="F">
                    <td id="F1">
                        <button class="btn btn-warning btn-md active">F1</button>
                    </td>
                    <td id="F2">
                        <button class="btn btn-warning btn-md active">F2</button>
                    </td>

                </tr>
                <tr id="G">
                    <td id="G1">
                        <button class="btn btn-warning btn-md active">G1</button>
                    </td>
                    <td id="G2">
                        <button class="btn btn-warning btn-md active">G2</button>
                    </td>
                    <td class="empty"></td>
                    <td id="G3">
                        <button class="btn btn-warning btn-md active">G3</button>
                    </td>
                </tr>


            </table>
        </div>
        <div class="col-sm-1" style="float: left">
            <ul style="padding-top: 10em;" id="selected">
                <legend>선택한좌석목록</legend>
            </ul>
            <button id="cancleBtn">선택취소</button>
            <br>
            <button class="submit" id="reserveBtn">예약</button>
            <button id="close">종료</button>
        </div>
    </div>

    <script>
        var people = 3;
        var seat = 0;
        $("table").find("button").click(function () {
            if (!$(this).hasClass("disabled")) {
                if ($(this).hasClass("btn-warning")) {
                    seat++;
                }
            }
            if (seat > people) {
                alert("사람수만큼만 고르세요");
                $("td").each(function () {
                    if ($(this).find(".btn-danger").hasClass("btn-danger")) {
                        $(this).find("button").removeClass("btn-danger");
                        $(this).find("button").addClass("btn-warning");


                    }

                });
                $("li").each(function () {
                    $(this).remove();
                });
                seat = 0;
                return;
            }
            $("li").each(function () {
                $(this).remove();
            });

            if (!$(this).hasClass("disabled")) {
                if ($(this).hasClass("btn-warning")) {
                    $(this).removeClass("btn-warning");
                    $(this).addClass("btn-danger");
                } else {
                    $(this).removeClass("btn-danger");
                    $(this).addClass("btn-warning");
                }
                $("ul").find("li").remove();
                let target = [];

                $("td").each(function () {
                    if ($(this).find(".btn-danger").hasClass("btn-danger")) {
                        target.push($(this).text());
                    }

                });
                for (index in target) {
                    var list = document.createElement("li");
                    $(list).text(target[index]);
                    $("legend").after(list);
                }
            }

        });

        $("#cancleBtn").click(function () {
            $("li").each(function () {
                $(this).remove();
            });
            $("td").each(function () {
                if ($(this).find(".btn-danger").hasClass("btn-danger")) {
                    $(this).find("button").removeClass("btn-danger");
                    $(this).find("button").addClass("btn-warning");


                }

            });
        });


        $("#reserveBtn").click(function () {
            $("td").each(function () {
                if ($(this).find(".btn-danger").hasClass("btn-danger")) {
                    $(this).find("button").removeClass("btn-danger");
                    $(this).find("button").addClass("disabled");

                }

            });
        });
        $("#close").click(function () {
            $("html").remove();
        })



    </script>
</body>

</html>